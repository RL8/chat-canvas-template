# 🔗 Connecting Vercel Frontend to Render Backend\n\n## 🎯 **Current Setup Status**\n\n### ✅ **Deployed Services**\n- **Frontend (Vercel)**: `https://ui-1pzs6khdm-rl8s-projects.vercel.app`\n- **Backend (Render)**: `https://chat-canvas-template.onrender.com`\n- **Backend Status**: ✅ Live and operational (all endpoints working)\n\n### ❌ **Issue**: Frontend Not Connected to Backend\n**Problem**: Frontend is trying to connect to `localhost:8000/copilotkit` instead of the deployed Render backend.\n\n---\n\n## 🛠️ **Solution: Set Environment Variable**\n\nThe frontend needs the `REMOTE_ACTION_URL` environment variable set to connect to the Render backend.\n\n### **Method 1: Vercel Dashboard (Recommended)**\n\n1. **Go to**: https://vercel.com/dashboard\n2. **Find project**: Search for `ui` or `chat-canvas-template`\n3. **Go to Settings** → **Environment Variables**\n4. **Add new variable**:\n   ```\n   Name: REMOTE_ACTION_URL\n   Value: https://chat-canvas-template.onrender.com/copilotkit\n   Environments: Production, Preview, Development\n   ```\n5. **Redeploy**: Trigger a new deployment\n\n### **Method 2: GitHub Actions Update**\n\nAdd to `.github/workflows/deploy-vercel.yml`:\n```yaml\n      - name: Deploy to Vercel (Production)\n        if: github.ref == 'refs/heads/master' || github.ref == 'refs/heads/main'\n        uses: amondnet/vercel-action@v25\n        with:\n          vercel-token: ${{ secrets.VERCEL_TOKEN }}\n          github-token: ${{ secrets.GITHUB_TOKEN }}\n          vercel-org-id: ${{ secrets.VERCEL_ORG_ID }}\n          vercel-project-id: ${{ secrets.VERCEL_PROJECT_ID }}\n          working-directory: ./ui\n          vercel-args: '--prod'\n        env:\n          REMOTE_ACTION_URL: https://chat-canvas-template.onrender.com/copilotkit\n```\n\n### **Method 3: Update .env.local (Development)**\n\nFor local development, create `ui/.env.local`:\n```\nREMOTE_ACTION_URL=https://chat-canvas-template.onrender.com/copilotkit\n```\n\n---\n\n## 🧪 **Testing the Connection**\n\nAfter setting the environment variable:\n\n1. **Trigger Redeploy**: \n   - Push a commit to master branch, or\n   - Manually redeploy in Vercel dashboard\n\n2. **Test Frontend**: Visit `https://ui-1pzs6khdm-rl8s-projects.vercel.app`\n   - Should connect to Render backend\n   - No more `extract() failed` console errors\n   - CopilotKit interface should work\n\n3. **Verify Backend Connection**:\n   - Frontend will make requests to `/api/copilotkit`\n   - Which proxies to `https://chat-canvas-template.onrender.com/copilotkit`\n   - Backend is confirmed working ✅\n\n---\n\n## 🎯 **Expected Result**\n\n- ✅ Frontend loads without console errors\n- ✅ CopilotKit interface is functional  \n- ✅ Research canvas works properly\n- ✅ Frontend ↔ Backend communication established\n\n## 📝 **Next Steps**\n\n1. Set the environment variable using Method 1 (Vercel Dashboard)\n2. Redeploy the frontend\n3. Test the connection\n4. Confirm full functionality\n\n**Both services are deployed and working - just need to connect them!** 🚀 